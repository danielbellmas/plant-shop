{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97254\\\\OneDrive\\\\Documents\\\\Projects\\\\MyProjects\\\\plant-shop\\\\frontend\\\\src\\\\components\\\\Cart\\\\CartItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card, CardMedia, CardContent, CardActions, Typography, Button } from \"@material-ui/core\";\nimport useStyles from \"../../styles/cart-item-style.js\";\nimport Swal from \"sweetalert2\";\nimport { CartContext } from \"../../PlantContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartItem = ({\n  item,\n  CalculateSubtotal\n}) => {\n  _s();\n\n  const [cartItems, setCartItems] = useContext(CartContext);\n  const [itemQuantity, setItemQuantity] = useState(item.quantity);\n  let itemIndex = cartItems.findIndex(plant => plant.id === item.id);\n  useEffect(() => {\n    CalculateSubtotal();\n  }, [itemQuantity]);\n\n  const IncrementQuantity = () => {\n    let newQuantity = itemQuantity + 1;\n    cartItems[itemIndex].quantity = newQuantity;\n    setItemQuantity(newQuantity);\n    CalculateSubtotal(); //Maybe add a limit of 4 plants\n  };\n\n  const DecrementQuantity = () => {\n    let newQuantity;\n    if (itemQuantity > 1) newQuantity = itemQuantity - 1;else newQuantity = 1;\n    cartItems[itemIndex].quantity = newQuantity;\n    setItemQuantity(newQuantity);\n    CalculateSubtotal();\n  };\n\n  const handleRemoveFromCart = () => {\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete!\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        setCartItems(cartItems.filter(cartItem => item.id !== cartItem.id));\n        Swal.fire(\"Deleted!\", \"\", \"success\");\n      }\n    });\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.card,\n    children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n      component: Link,\n      to: `/products/${item.id}`,\n      image: item.image,\n      alt: item.name,\n      className: classes.media\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      className: classes.cardContent,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: item.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      className: classes.cartActions,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.buttons,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          size: \"small\",\n          onClick: DecrementQuantity,\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: itemQuantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"\",\n          type: \"button\",\n          size: \"small\",\n          onClick: IncrementQuantity,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        type: \"button\",\n        color: \"secondary\",\n        onClick: handleRemoveFromCart,\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartItem, \"PxJ6hahOL3+tSKpkvvL9sIH0OrY=\", false, function () {\n  return [useStyles];\n});\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["C:/Users/97254/OneDrive/Documents/Projects/MyProjects/plant-shop/frontend/src/components/Cart/CartItem.js"],"names":["React","useState","useEffect","useContext","Link","Card","CardMedia","CardContent","CardActions","Typography","Button","useStyles","Swal","CartContext","CartItem","item","CalculateSubtotal","cartItems","setCartItems","itemQuantity","setItemQuantity","quantity","itemIndex","findIndex","plant","id","IncrementQuantity","newQuantity","DecrementQuantity","handleRemoveFromCart","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","filter","cartItem","classes","card","image","name","media","cardContent","price","cartActions","buttons"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  Typography,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport useStyles from \"../../styles/cart-item-style.js\";\r\nimport Swal from \"sweetalert2\";\r\nimport { CartContext } from \"../../PlantContext\";\r\n\r\nconst CartItem = ({ item, CalculateSubtotal }) => {\r\n  const [cartItems, setCartItems] = useContext(CartContext);\r\n  const [itemQuantity, setItemQuantity] = useState(item.quantity);\r\n  let itemIndex = cartItems.findIndex((plant) => plant.id === item.id);\r\n\r\n  useEffect(() => {\r\n    CalculateSubtotal();\r\n  }, [itemQuantity]);\r\n\r\n  const IncrementQuantity = () => {\r\n    let newQuantity = itemQuantity + 1;\r\n    cartItems[itemIndex].quantity = newQuantity;\r\n    setItemQuantity(newQuantity);\r\n    CalculateSubtotal();\r\n\r\n    //Maybe add a limit of 4 plants\r\n  };\r\n  const DecrementQuantity = () => {\r\n    let newQuantity;\r\n    if (itemQuantity > 1) newQuantity = itemQuantity - 1;\r\n    else newQuantity = 1;\r\n    cartItems[itemIndex].quantity = newQuantity;\r\n    setItemQuantity(newQuantity);\r\n    CalculateSubtotal();\r\n  };\r\n  const handleRemoveFromCart = () => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete!\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        setCartItems(cartItems.filter((cartItem) => item.id !== cartItem.id));\r\n        Swal.fire(\"Deleted!\", \"\", \"success\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        component={Link}\r\n        to={`/products/${item.id}`}\r\n        image={item.image}\r\n        alt={item.name}\r\n        className={classes.media}\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography variant=\"h4\">{item.name}</Typography>\r\n        <Typography variant=\"h5\">{item.price}</Typography>\r\n      </CardContent>\r\n      <CardActions className={classes.cartActions}>\r\n        <div className={classes.buttons}>\r\n          <Button type=\"button\" size=\"small\" onClick={DecrementQuantity}>\r\n            -\r\n          </Button>\r\n          <Typography>{itemQuantity}</Typography>\r\n          <Button\r\n            color=\"\"\r\n            type=\"button\"\r\n            size=\"small\"\r\n            onClick={IncrementQuantity}\r\n          >\r\n            +\r\n          </Button>\r\n        </div>\r\n        <Button\r\n          variant=\"contained\"\r\n          type=\"button\"\r\n          color=\"secondary\"\r\n          onClick={handleRemoveFromCart}\r\n        >\r\n          Remove\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n"]},"metadata":{},"sourceType":"module"}