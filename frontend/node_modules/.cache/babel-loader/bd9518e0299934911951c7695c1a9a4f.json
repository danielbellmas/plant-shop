{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\97254\\\\OneDrive\\\\Documents\\\\Projects\\\\MyProjects\\\\plant-shop\\\\frontend\\\\src\\\\PlantContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, createContext } from \"react\";\nimport PlantDataService from \"./services/plant.js\";\nimport plantDB from \"./plantDB.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductContext = /*#__PURE__*/createContext();\nexport const CartContext = /*#__PURE__*/createContext();\nexport const CartSubtotalContext = /*#__PURE__*/createContext();\nexport const ProductProvider = props => {\n  _s();\n\n  const [plants, setPlants] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [subtotal, setSubtotal] = useState(0);\n  useEffect(() => {\n    retrievePlants();\n  }, []);\n\n  const retrievePlants = () => {\n    PlantDataService.getAll().then(response => {\n      setPlants(response.data.plants);\n      let prices = response.data.plants.map(plant => parseFloat(plant.price.replace(\"$\", \"\")));\n      let minPrice = Math.min(...prices);\n      let maxPrice = Math.max(...prices);\n      localStorage.setItem(\"min\", minPrice);\n      localStorage.setItem(\"max\", maxPrice);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n    value: [plants, setPlants],\n    children: /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: [cartItems, setCartItems],\n      children: /*#__PURE__*/_jsxDEV(CartSubtotalContext.Provider, {\n        value: [subtotal, setSubtotal],\n        children: props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductProvider, \"mcxUCLMeqnA//nOC4un6Ldr0xKg=\");\n\n_c = ProductProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductProvider\");","map":{"version":3,"sources":["C:/Users/97254/OneDrive/Documents/Projects/MyProjects/plant-shop/frontend/src/PlantContext.js"],"names":["React","useState","useEffect","createContext","PlantDataService","plantDB","ProductContext","CartContext","CartSubtotalContext","ProductProvider","props","plants","setPlants","cartItems","setCartItems","subtotal","setSubtotal","retrievePlants","getAll","then","response","data","prices","map","plant","parseFloat","price","replace","minPrice","Math","min","maxPrice","max","localStorage","setItem","catch","e","console","log","children"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,QAA0D,OAA1D;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AACA,OAAOC,OAAP,MAAoB,gBAApB;;AAEA,OAAO,MAAMC,cAAc,gBAAGH,aAAa,EAApC;AACP,OAAO,MAAMI,WAAW,gBAAGJ,aAAa,EAAjC;AACP,OAAO,MAAMK,mBAAmB,gBAAGL,aAAa,EAAzC;AAEP,OAAO,MAAMM,eAAe,GAAIC,KAAD,IAAW;AAAA;;AACxC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,CAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,cAAc;AACf,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,cAAc,GAAG,MAAM;AAC3Bb,IAAAA,gBAAgB,CAACc,MAAjB,GACGC,IADH,CACSC,QAAD,IAAc;AAClBR,MAAAA,SAAS,CAACQ,QAAQ,CAACC,IAAT,CAAcV,MAAf,CAAT;AAEA,UAAIW,MAAM,GAAGF,QAAQ,CAACC,IAAT,CAAcV,MAAd,CAAqBY,GAArB,CAA0BC,KAAD,IACpCC,UAAU,CAACD,KAAK,CAACE,KAAN,CAAYC,OAAZ,CAAoB,GAApB,EAAyB,EAAzB,CAAD,CADC,CAAb;AAIA,UAAIC,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAAS,GAAGR,MAAZ,CAAf;AACA,UAAIS,QAAQ,GAAGF,IAAI,CAACG,GAAL,CAAS,GAAGV,MAAZ,CAAf;AACAW,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BN,QAA5B;AACAK,MAAAA,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BH,QAA5B;AACD,KAZH,EAaGI,KAbH,CAaUC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD,KAfH;AAgBD,GAjBD;;AAmBA,sBACE,QAAC,cAAD,CAAgB,QAAhB;AAAyB,IAAA,KAAK,EAAE,CAACzB,MAAD,EAASC,SAAT,CAAhC;AAAA,2BACE,QAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE,CAACC,SAAD,EAAYC,YAAZ,CAA7B;AAAA,6BACE,QAAC,mBAAD,CAAqB,QAArB;AAA8B,QAAA,KAAK,EAAE,CAACC,QAAD,EAAWC,WAAX,CAArC;AAAA,kBACGN,KAAK,CAAC6B;AADT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AASD,CArCM;;GAAM9B,e;;KAAAA,e","sourcesContent":["import React, { useState, useEffect, createContext } from \"react\";\r\nimport PlantDataService from \"./services/plant.js\";\r\nimport plantDB from \"./plantDB.json\";\r\n\r\nexport const ProductContext = createContext();\r\nexport const CartContext = createContext();\r\nexport const CartSubtotalContext = createContext();\r\n\r\nexport const ProductProvider = (props) => {\r\n  const [plants, setPlants] = useState([]);\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [subtotal, setSubtotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    retrievePlants();\r\n  }, []);\r\n\r\n  const retrievePlants = () => {\r\n    PlantDataService.getAll()\r\n      .then((response) => {\r\n        setPlants(response.data.plants);\r\n\r\n        let prices = response.data.plants.map((plant) =>\r\n          parseFloat(plant.price.replace(\"$\", \"\"))\r\n        );\r\n\r\n        let minPrice = Math.min(...prices);\r\n        let maxPrice = Math.max(...prices);\r\n        localStorage.setItem(\"min\", minPrice);\r\n        localStorage.setItem(\"max\", maxPrice);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <ProductContext.Provider value={[plants, setPlants]}>\r\n      <CartContext.Provider value={[cartItems, setCartItems]}>\r\n        <CartSubtotalContext.Provider value={[subtotal, setSubtotal]}>\r\n          {props.children}\r\n        </CartSubtotalContext.Provider>\r\n      </CartContext.Provider>\r\n    </ProductContext.Provider>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}